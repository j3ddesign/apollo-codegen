{"version":3,"sources":["../../src/flow/language.js"],"names":["typeDeclaration","propertyDeclaration","propertyDeclarations","generator","closure","interfaceName","printNewlineIfNeeded","printNewline","print","pushScope","typeName","withinBlock","popScope","propertyName","description","isArray","isNullable","inInterface","fragmentSpreads","printOnNewline","length","map","n","join","properties","forEach","property"],"mappings":";;;;;QAKgBA,e,GAAAA,e;QAUAC,mB,GAAAA,mB;QAsCAC,oB,GAAAA,oB;;AArDhB;;AAKO,SAASF,eAAT,CAAyBG,SAAzB,QAAuDC,OAAvD,EAAgE;AAAA,MAA1BC,aAA0B,QAA1BA,aAA0B;;AACrEF,YAAUG,oBAAV;AACAH,YAAUI,YAAV;AACAJ,YAAUK,KAAV,CAAiB,eAAeH,aAAe,IAA/C;AACAF,YAAUM,SAAV,CAAoB,EAAEC,UAAUL,aAAZ,EAApB;AACAF,YAAUQ,WAAV,CAAsBP,OAAtB;AACAD,YAAUS,QAAV;AACAT,YAAUK,KAAV,CAAgB,GAAhB;AACD;;AAEM,SAASP,mBAAT,CAA6BE,SAA7B,SAAoIC,OAApI,EAA6I;AAAA,MAAnGS,YAAmG,SAAnGA,YAAmG;AAAA,MAArFH,QAAqF,SAArFA,QAAqF;AAAA,MAA3EI,WAA2E,SAA3EA,WAA2E;AAAA,MAA9DC,OAA8D,SAA9DA,OAA8D;AAAA,MAArDC,UAAqD,SAArDA,UAAqD;AAAA,MAAzCC,WAAyC,SAAzCA,WAAyC;AAAA,MAA5BC,eAA4B,SAA5BA,eAA4B;;AAClJf,YAAUgB,cAAV,CAAyBL,eAAgB,MAAKA,WAAY,EAA1D;AACA,MAAIV,OAAJ,EAAa;AACXD,cAAUgB,cAAV,CAA0B,GAAEN,YAAa,GAAzC;AACA,QAAIG,UAAJ,EAAgB;AACdb,gBAAUK,KAAV,CAAgB,IAAhB;AACD;AACD,QAAIO,OAAJ,EAAa;AACX,UAAI,CAACC,UAAL,EAAiB;AACfb,kBAAUK,KAAV,CAAgB,GAAhB;AACD;AACDL,gBAAUK,KAAV,CAAgB,QAAhB;AACD;AACD,QAAIU,mBAAmBA,gBAAgBE,MAAhB,GAAyB,CAAhD,EAAmD;AACjD,UAAI,CAACJ,UAAL,EAAiB;AACfb,kBAAUK,KAAV,CAAgB,GAAhB;AACD,OAFD,MAEO;AACLL,kBAAUK,KAAV,CAAgB,GAAhB;AACD;AACDL,gBAAUK,KAAV,CAAiB,GAAEU,gBAAgBG,GAAhB,CAAoBC,KAAM,GAAEA,CAAE,UAA9B,EAAyCC,IAAzC,CAA8C,KAA9C,CAAqD,IAAxE;AACD;AACDpB,cAAUM,SAAV,CAAoB,EAAEC,UAAUG,YAAZ,EAApB;AACAV,cAAUQ,WAAV,CAAsBP,OAAtB;AACAD,cAAUS,QAAV;AACA,QAAII,cAAcE,eAAd,IAAiCA,gBAAgBE,MAAhB,GAAyB,CAA9D,EAAiE;AAC/DjB,gBAAUK,KAAV,CAAgB,GAAhB;AACD;AACD,QAAIO,OAAJ,EAAa;AACXZ,gBAAUK,KAAV,CAAgB,IAAhB;AACD;AACF,GA5BD,MA4BO,IAAIU,mBAAmBA,gBAAgBE,MAAhB,GAAyB,CAAhD,EAAmD;AACxDjB,cAAUgB,cAAV,CAA0B,GAAEN,YAAa,KAAIE,UAAU,QAAV,GAAqB,EAAG,GAAEG,gBAAgBG,GAAhB,CAAoBC,KAAM,GAAEA,CAAE,UAA9B,EAAyCC,IAAzC,CAA8C,KAA9C,CAAqD,GAAER,UAAU,GAAV,GAAgB,EAAG,EAAjJ;AACD,GAFM,MAEA;AACLZ,cAAUgB,cAAV,CAA0B,GAAEN,YAAa,KAAIH,QAAS,EAAtD;AACD;AACDP,YAAUK,KAAV,CAAgB,GAAhB;AACD;;AAEM,SAASN,oBAAT,CAA8BC,SAA9B,EAAyCqB,UAAzC,EAAqD;AAC1D,MAAI,CAACA,UAAL,EAAiB;AACjBA,aAAWC,OAAX,CAAmBC,YAAYzB,oBAAoBE,SAApB,EAA+BuB,QAA/B,CAA/B;AACD","file":"language.js","sourcesContent":["import {\r\n  join,\r\n  wrap,\r\n} from '../utilities/printing';\r\n\r\nexport function typeDeclaration(generator, { interfaceName }, closure) {\r\n  generator.printNewlineIfNeeded();\r\n  generator.printNewline();\r\n  generator.print(`export type ${ interfaceName } =`);\r\n  generator.pushScope({ typeName: interfaceName });\r\n  generator.withinBlock(closure);\r\n  generator.popScope();\r\n  generator.print(';');\r\n}\r\n\r\nexport function propertyDeclaration(generator, { propertyName, typeName, description, isArray, isNullable, inInterface, fragmentSpreads }, closure) {\r\n  generator.printOnNewline(description && `// ${description}`);\r\n  if (closure) {\r\n    generator.printOnNewline(`${propertyName}:`);\r\n    if (isNullable) {\r\n      generator.print(' ?');\r\n    }\r\n    if (isArray) {\r\n      if (!isNullable) {\r\n        generator.print(' ');\r\n      }\r\n      generator.print('Array<');\r\n    }\r\n    if (fragmentSpreads && fragmentSpreads.length > 0) {\r\n      if (!isNullable) {\r\n        generator.print(' ');\r\n      } else {\r\n        generator.print('(');\r\n      }\r\n      generator.print(`${fragmentSpreads.map(n => `${n}Fragment`).join(' & ')} &`);\r\n    }\r\n    generator.pushScope({ typeName: propertyName });\r\n    generator.withinBlock(closure);\r\n    generator.popScope();\r\n    if (isNullable && fragmentSpreads && fragmentSpreads.length > 0) {\r\n      generator.print(')');\r\n    }\r\n    if (isArray) {\r\n      generator.print(' >');\r\n    }\r\n  } else if (fragmentSpreads && fragmentSpreads.length > 0) {\r\n    generator.printOnNewline(`${propertyName}: ${isArray ? 'Array<' : ''}${fragmentSpreads.map(n => `${n}Fragment`).join(' & ')}${isArray ? '>' : ''}`);\r\n  } else {\r\n    generator.printOnNewline(`${propertyName}: ${typeName}`);\r\n  }\r\n  generator.print(',');\r\n}\r\n\r\nexport function propertyDeclarations(generator, properties) {\r\n  if (!properties) return;\r\n  properties.forEach(property => propertyDeclaration(generator, property));\r\n}\r\n"]}